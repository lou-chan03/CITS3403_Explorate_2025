
<link rel="stylesheet" href="{{ url_for('static', filename='css/consolidated.css') }}">
{% extends "base.html"%}
{% block title%}DataEntry{% endblock%}
{% block content%}
        <div class="page-header">
            <div>
                <h1 class="page-title">Your Travel Analytics</h1>
                <p class="page-subtitle">Discover personalized insights about your travel patterns and preferences.</p>
            </div>
            <button class="customize-btn">
                Customize Dashboard
            </button>
        </div>

        <div class="summary-card">
            <div class="summary-header">
                <div>
                    <h2 class="summary-title">Your Travel Summary</h2>
                    <p class="summary-subtitle">Based on your {{ user.total_trips }} trips across Australia</p>
                </div>
                <div class="badge">
                    Top 15% of Travelers
                </div>
            </div>

            <div class="summary-stats">
                <div class="stat-item">
                    <div class="stat-icon"></div>
                    <div>
                        <p class="stat-label">Your Travel Style</p>
                        <p class="stat-value">{{ user.top_category }} Seeker</p>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon"></div>
                    <div>
                        <p class="stat-label">Favorite State</p>
                        <p class="stat-value">{{ user.top_state }} ({{ user.total_trips }} trips)</p>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon"></div>
                    <div>
                        <p class="stat-label">Your Average Rating</p>
                        <p class="stat-value">{{ user.avg_rating }}/5.0 (above average)</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="tabs">
            <a href="{{ url_for('main.analytics') }}" class="tab {% if active_tab == 'analytics' %}tab-active{% endif %}">Maps</a>
            <a href="{{ url_for('main.trends') }}" class="tab {% if active_tab == 'trends' %}tab-active{% endif %}">Compare & Trends</a>
            <a href="{{ url_for('main.recommendations') }}" class="tab {% if active_tab == 'recommendations' %}tab-active{% endif %}">Recommendations</a>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-card-header">
                    <div class="stat-icon-sm"></div>
                    <div class="stat-badge">+3 this month</div>
                </div>
                <p class="stat-card-label">Your Total Trips</p>
                <div class="stat-card-value">
                    <p class="stat-card-main">{{ user.total_trips }}</p>
                    <p class="stat-card-sub">of 248 community trips</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-card-header">
                    <div class="stat-icon-sm"></div>
                    <div class="stat-badge">Higher than avg</div>
                </div>
                <p class="stat-card-label">Your Average Rating</p>
                <div class="stat-card-value">
                    <p class="stat-card-main">{{ user.avg_rating }}/5.0</p>
                    <p class="stat-card-sub">vs. 4.3/5.0 avg</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-card-header">
                    <div class="stat-icon-sm"></div>
                    <div class="stat-badge">Most visited</div>
                </div>
                <p class="stat-card-label">Your Top State</p>
                <div class="stat-card-value">
                    <p class="stat-card-main">{{ user.top_state }}</p>
                    <p class="stat-card-sub">{{ user.total_trips }} of your trips</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-card-header">
                    <div class="stat-icon-sm"></div>
                    <div class="stat-badge">{{ user.top_category_percent }} of your trips</div>
                </div>
                <p class="stat-card-label">Your Top Category</p>
                <div class="stat-card-value">
                    <p class="stat-card-main">{{ user.top_category }}</p>
                    <p class="stat-card-sub">vs. 35% community avg</p>
                </div>
            </div>
        </div>

        <div class="chart-card">
            <div class="chart-header">
                <h2 class="chart-title">Your Trip Activity</h2>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #2e8b57;"></div>
                        <span>Your Trips</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #d1d5db;"></div>
                        <span>Community Average</span>
                    </div>
                </div>
            </div>
            <div class="chart-container">
                [Trip Activity Area Chart - Placeholder]
            </div>
            <div class="chart-insight">
                Your February trip count was 5% higher than the average TravelMate user in your age group
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-card">
                <h2 class="chart-title">How You Compare: Age Group</h2>
                <div class="chart-container">
                    [Age Group Bar Chart - Placeholder]
                </div>
                <div class="chart-insight">
                    <strong>Insight:</strong> You take more trips in the 35-44 age group than average, showing your adventurous spirit!
                </div>
            </div>
            <div class="chart-card">
                <h2 class="chart-title">Your Travel Preferences</h2>
                <div class="chart-container">
                    [Travel Preferences Pie Chart - Placeholder]
                </div>
                <div class="chart-insight">
                    <strong>Personalized:</strong> You prefer {{ user.top_category }} trips (50%) more than the average traveler (35%). We'll recommend more adventure destinations!
                </div>
            </div>
        </div>

        <div class="recommendations-card">
            <h2 class="section-title">Recommended For You</h2>
            <p class="section-description">Based on your past trips and preferences, you might enjoy these destinations:</p>
            
            <div class="trip-grid">
                <div class="trip-card">
                    <div class="trip-image">
                        <div class="match-badge">98% Match</div>
                    </div>
                    <div class="trip-details">
                        <h3 class="trip-name">Fraser Island</h3>
                        <div class="trip-info">
                            <div class="trip-location">
                                {{ user.top_state }}
                            </div>
                            <div class="trip-category">{{ user.top_category }}</div>
                        </div>
                        <button class="create-btn">
                            Create Itinerary
                        </button>
                    </div>
                </div>
                <div class="trip-card">
                    <div class="trip-image">
                        <div class="match-badge">95% Match</div>
                    </div>
                    <div class="trip-details">
                        <h3 class="trip-name">Great Barrier Reef</h3>
                        <div class="trip-info">
                            <div class="trip-location">
                                {{ user.top_state }}
                            </div>
                            <div class="trip-category">Nature</div>
                        </div>
                        <button class="create-btn">
                            Create Itinerary
                        </button>
                    </div>
                </div>
                <div class="trip-card">
                    <div class="trip-image">
                        <div class="match-badge">92% Match</div>
                    </div>
                    <div class="trip-details">
                        <h3 class="trip-name">Byron Bay</h3>
                        <div class="trip-info">
                            <div class="trip-location">
                                New South Wales
                            </div>
                            <div class="trip-category">Beach</div>
                        </div>
                        <button class="create-btn">
                            Create Itinerary
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="filters-card">
            <div class="filters-header">
                <h2 class="section-title">Customize Your Analytics</h2>
                <button class="reset-btn">Reset All Filters</button>
            </div>
            
            <div class="filters-grid">
                <div class="filter-group">
                    <label class="filter-label">Date Range</label>
                    <button class="dropdown-btn">
                        <div class="dropdown-icon">
                            Last 6 months
                        </div>
                        v
                    </button>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">State</label>
                    <button class="dropdown-btn">
                        <div class="dropdown-icon">
                            All States
                        </div>
                        v
                    </button>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Trip Category</label>
                    <div class="checkbox-grid">
                        <div class="checkbox-item">
                            <input type="checkbox" class="checkbox-input" id="adventure" checked>
                            <label for="adventure" class="checkbox-label">{{ user.top_category }}</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" class="checkbox-input" id="cultural" checked>
                            <label for="cultural" class="checkbox-label">Cultural</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" class="checkbox-input" id="beach" checked>
                            <label for="beach" class="checkbox-label">Beach</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" class="checkbox-input" id="nature" checked>
                            <label for="nature" class="checkbox-label">Nature</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="action-btn">
                    Download Report
                </button>
                <button class="action-btn">
                    Advanced Filters
                </button>
                <button class="primary-btn">
                    Share Your Insights
                </button>
            </div>
        </div>
{% endblock%}
{% block scripts %}
<script>
    function redirect() {
        window.location.href = "{{ url_for('main.adventure') }}"; // Replace with the file name of the target HTML
    }
</script>
{% endblock%}
<script src="{{ url_for('static', filename='js/recommendations.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/recommendations.js') }}"></script>
</body>
</html>